import{_ as k,X as N,a as S,c as I,r as M,o as a,d as B,w as r,e as l,f as s,I as p,g as n,h as b,T as P,i as j,F as C,j as L,k as o,t as y,Y as V,Z as T}from"./index-6697ba1b.js";import{B as A,H as E,P as K}from"./popover-7ab2fa14.js";const _=c=>(V("data-v-3d84377b"),c=c(),T(),c),D={key:0,class:"absolute top-2 right-2 flex h-2 w-2"},F=_(()=>o("span",{class:"inline-flex h-full w-full animate-ping rounded-full bg-indigo-400 opacity-75 absolute"},null,-1)),H=_(()=>o("span",{class:"inline-flex h-2 w-2 rounded-full bg-indigo-400"},null,-1)),z=[F,H],G={key:0,class:"h-24 flex justify-center items-center text-white",role:"alert"},X={key:1,class:"overflow-hidden shadow-lg ring-1 ring-black ring-opacity-5"},Y={class:"relative flex flex-col items-start h-[6.5rem] w-[16rem] pl-[3rem] duration-300"},Z={class:"absolute left-2 top-2"},$=["src"],q={class:"mt-2 mb-1 text-sm"},J={class:"w-[12rem] text-sm text-gray-300"},O=["onClick","onKeydown","aria-label"],Q={key:0,class:"h-[2.5rem] flex justify-center items-center border-t hover:bg-gray-600 focus:bg-gray-600 cursor-pointer duration-300",tabindex:"0",role:"button"},R=_(()=>o("div",{class:"text-white text-sm"},"See All Messages",-1)),U=[R],W={__name:"MessageNotification",setup(c){const w=N(),i=S(),x=I(()=>{let e=[...i.msgNotification];return e.length>3?e.slice(0,3):e});function m(e){(e.type==="click"||e.code==="Space"||e.code==="Enter")&&i.toggleMsgPing(!1)}let d=M([]);function v(e,f,u){if(u.type==="click"||u.code==="Space"||u.code==="Enter"){w.removeMessage(e);let t=i.msgNotification.length===f?i.msgNotification.length-1:f;d.value[t].children[0].removeAttribute("aria-live"),d.value[t].children[0].setAttribute("aria-live","assertive"),d.value[t].focus()}}return(e,f)=>(a(),B(s(K),{class:"relative"},{default:r(({open:u})=>[l(s(A),{class:"p-2 bg-gray-900 rounded-full text-gray-300 outline-none hover:ring-1 hover:ring-white hover:text-white focus-visible:ring-1 focus-visible:ring-white duration-300",onClick:m,onKeydown:m,"aria-label":s(i).msgPingIsVisible?"new messages available":"messages"},{default:r(()=>[l(s(p),{icon:"uil:envelope",class:"h-5 w-5","aria-hidden":"true"}),s(i).msgPingIsVisible?(a(),n("div",D,z)):b("",!0)]),_:1},8,["aria-label"]),l(P,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:r(()=>[l(s(E),{class:"absolute left-0 w-[17rem] bg-gray-700 shadow overflow-hidden rounded-lg border border-gray-400 mt-2 z-20"},{default:r(()=>[s(i).msgNotification.length===0?(a(),n("div",G," There are no messages ")):(a(),n("div",X,[l(j,null,{default:r(()=>[(a(!0),n(C,null,L(s(x),(t,g)=>(a(),n("div",{key:g,class:"flex flex-col justify-center items-center py-2 text-white rounded hover:bg-gray-400/50 focus-visible:bg-gray-400/50 focus:outline-none duration-200",tabindex:"0",ref_for:!0,ref_key:"refList",ref:d},[o("div",Y,[o("div",Z,[o("img",{src:t.imageSrc,alt:"",class:"h-7 w-7 rounded-full"},null,8,$)]),o("h3",q,y(t.title),1),o("div",J,y(t.message),1),o("div",{class:"absolute right-0 top-2 flex justify-center items-center h-6 w-6 cursor-pointer outline-none hover:text-yellow-400 focus-visible:text-yellow-400",onClick:h=>v(t.id,g,h),onKeydown:h=>v(t.id,g,h),tabindex:"0","aria-label":`remove ${t.title}`},[l(s(p),{icon:"ic:round-close",class:"h-5 w-5"})],40,O)])]))),128))]),_:1}),s(i).msgNotification.length>3?(a(),n("div",Q,U)):b("",!0)]))]),_:1})]),_:1})]),_:1}))}},se=k(W,[["__scopeId","data-v-3d84377b"]]);export{se as default};

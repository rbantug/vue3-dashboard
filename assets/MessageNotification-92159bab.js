import{_ as k,X as N,a as S,c as I,r as M,o as i,d as B,w as r,e as l,f as e,I as p,g as n,h as b,T as P,i as j,F as C,j as L,k as o,Y as V,t as y,Z as T,$ as A}from"./index-09bce65c.js";import{B as E,H as K,P as D}from"./popover-747d64e7.js";const _=c=>(T("data-v-d1c8b35e"),c=c(),A(),c),F={key:0,class:"absolute top-2 right-2 flex h-2 w-2"},H=_(()=>o("span",{class:"inline-flex h-full w-full animate-ping rounded-full bg-indigo-400 opacity-75 absolute"},null,-1)),$=_(()=>o("span",{class:"inline-flex h-2 w-2 rounded-full bg-indigo-400"},null,-1)),z=[H,$],G={key:0,class:"h-24 flex justify-center items-center text-white",role:"alert"},U={key:1,class:"overflow-hidden shadow-lg ring-1 ring-black ring-opacity-5"},X={class:"relative flex flex-col items-start h-[6.5rem] w-[16rem] pl-[3rem] duration-300"},Y={class:"absolute left-2 top-2"},Z=["src"],q={class:"mt-2 mb-1 text-sm"},J={class:"w-[12rem] text-sm text-gray-300"},O=["onClick","onKeydown","aria-label"],Q={key:0,class:"h-[2.5rem] flex justify-center items-center border-t hover:bg-gray-600 focus:bg-gray-600 cursor-pointer duration-300",tabindex:"0",role:"button"},R=_(()=>o("div",{class:"text-white text-sm"},"See All Messages",-1)),W=[R],ee={__name:"MessageNotification",setup(c){const w=N(),a=S(),x=I(()=>{let t=[...a.msgNotification];return t.length>3?t.slice(0,3):t});function m(t){(t.type==="click"||t.code==="Space"||t.code==="Enter")&&a.toggleMsgPing(!1)}let d=M([]);function v(t,f,u){if(u.type==="click"||u.code==="Space"||u.code==="Enter"){w.removeMessage(t);let s=a.msgNotification.length===f?a.msgNotification.length-1:f;d.value[s].children[0].removeAttribute("aria-live"),d.value[s].children[0].setAttribute("aria-live","assertive"),d.value[s].focus()}}return(t,f)=>(i(),B(e(D),{class:"relative"},{default:r(({open:u})=>[l(e(E),{class:"p-2 bg-gray-900 rounded-full text-gray-300 outline-none hover:ring-1 hover:ring-white hover:text-white focus-visible:ring-1 focus-visible:ring-white duration-300",onClick:m,onKeydown:m,"aria-label":e(a).msgPingIsVisible?"new messages available":"messages"},{default:r(()=>[l(e(p),{icon:"uil:envelope",class:"h-5 w-5","aria-hidden":"true"}),e(a).msgPingIsVisible?(i(),n("div",F,z)):b("",!0)]),_:1},8,["aria-label"]),l(P,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:r(()=>[l(e(K),{class:"absolute left-0 w-[17rem] bg-gray-700 shadow overflow-hidden rounded-lg border border-gray-400 mt-2 z-20"},{default:r(()=>[e(a).msgNotification.length===0?(i(),n("div",G," There are no messages ")):(i(),n("div",U,[l(j,null,{default:r(()=>[(i(!0),n(C,null,L(e(x),(s,g)=>(i(),n("div",{key:g,class:"flex flex-col justify-center items-center py-2 text-white rounded hover:bg-gray-400/50 focus-visible:bg-gray-400/50 focus:outline-none duration-200",tabindex:"0",ref_for:!0,ref_key:"refList",ref:d},[o("div",X,[o("div",Y,[o("img",{src:e(V)(s.imageSrc),alt:"",class:"h-7 w-7 rounded-full"},null,8,Z)]),o("h3",q,y(s.title),1),o("div",J,y(s.message),1),o("div",{class:"absolute right-0 top-2 flex justify-center items-center h-6 w-6 cursor-pointer outline-none hover:text-yellow-400 focus-visible:text-yellow-400",onClick:h=>v(s.id,g,h),onKeydown:h=>v(s.id,g,h),tabindex:"0","aria-label":`remove ${s.title}`},[l(e(p),{icon:"ic:round-close",class:"h-5 w-5"})],40,O)])]))),128))]),_:1}),e(a).msgNotification.length>3?(i(),n("div",Q,W)):b("",!0)]))]),_:1})]),_:1})]),_:1}))}},oe=k(ee,[["__scopeId","data-v-d1c8b35e"]]);export{oe as default};

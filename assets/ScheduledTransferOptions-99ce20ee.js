import{ab as A,r as E,o as i,g as l,e as s,w as c,k as t,f as o,ac as F,t as d,I as w,T,ad as W,a4 as h,F as V,j as $,d as D,ae as H,n as x,af as G,b as J,a as Q,c as R,E as X,a5 as _,h as f,a1 as Z,a2 as M,a3 as z,ag as ee,ah as te,ai as O,aa as oe,a8 as N,a7 as ne}from"./index-becfefe1.js";import{o as re}from"./outputLast4CardNum-d5332ab7.js";const ie={class:"relative"},se={class:"block truncate text-black"},ae={class:"absolute inset-y-0 right-0 flex items-center px-2 hover:bg-gray-200"},P={__name:"HeadlessUIListBox",props:{dataProp:{type:Array,required:!0},currentMonth:{type:Number,required:!1},reminderIndex:{type:Number,required:!1},ariaLabelProp:{type:String,required:!1},widthProp:{type:String,required:!1,default:"w-full"}},emits:["emitData"],setup(Y,{emit:B}){const m=Y,e=A(m,"dataProp"),g=A(m,"currentMonth");function y(v){B("emitData",p.value)}const p=E(e.value[g.value||m.reminderIndex||0]);return(v,u)=>(i(),l("div",{class:x(m.widthProp)},[s(o(G),{modelValue:p.value,"onUpdate:modelValue":u[0]||(u[0]=b=>p.value=b)},{default:c(()=>[t("div",ie,[s(o(F),{class:"relative w-full overflow-hidden cursor-default rounded-lg bg-white py-2 pl-3 pr-8 text-left shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-green-400 sm:text-sm duration-300","aria-label":m.ariaLabelProp},{default:c(()=>[t("span",se,d(p.value),1),t("span",ae,[s(o(w),{icon:"ic:round-keyboard-arrow-down",class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1},8,["aria-label"]),s(T,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:c(()=>[s(o(W),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-10",onKeydown:[h(y,["enter"]),h(y,["space"])],onClick:y},{default:c(()=>[(i(!0),l(V,null,$(o(e),(b,k)=>(i(),D(o(H),{key:k,value:b,as:"template"},{default:c(({active:S,selected:C})=>[t("li",{class:x([S?"bg-green-100 text-green-900":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-3"])},[t("span",{class:x([C?"font-medium":"font-normal","block truncate"])},d(b),3)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["onKeydown"])]),_:1})])]),_:1},8,["modelValue"])],2))}},le={class:"flex flex-col justify-center items-center w-full relative"},de=["onKeydown"],ce=t("span",null,"Back",-1),ue={class:"flex justify-center items-center mt-4 w-32 h-15 rounded-md bg-gray-500"},fe=["src"],pe={class:"flex flex-col items-center text-white","aria-live":"assertive"},he={class:"text-xl font-bold"},me={key:0},be={class:"flex w-[90%]"},ge={class:"flex flex-col w-full mt-10 text-white gap-y-4"},ye={class:"flex items-center gap-x-2"},ve=t("div",null,"Billing Cycle",-1),_e={class:"flex justify-center items-center gap-x-2 w-[10rem] h-9 bg-gray-500 shadow shadow-gray-500 rounded-md relative"},xe=["onKeydown","aria-checked"],we=["onKeydown","aria-checked"],ke={class:"flex gap-x-2 items-center h-16"},Me=t("div",null,"Duration",-1),Te={class:"flex items-center gap-x-2 relative"},Be={key:0,class:"pt-1 text-sm text-red-500 font-bold absolute",role:"alert"},Se={key:0,class:"pt-1 text-sm text-red-500 font-bold absolute",role:"alert"},Ce={key:0,class:"pt-1 text-sm text-red-500 font-bold absolute",role:"alert"},Ie={class:"flex items-center gap-x-2 h-8"},Ne=t("label",{for:"reminder"},"Reminder",-1),Ee=t("label",{for:"description",class:"flex items-center gap-x-1"},[t("div",null,"Description"),t("span",{class:"text-xs"},"(optional)")],-1),Ve={class:"mt-10"},De=t("div",{class:"text-white mb-2"},"Payment Method",-1),Ye={class:"flex flex-col gap-y-2"},Ae={class:"flex flex-col gap-y-2"},Re=["id","value","aria-label"],ze=["id"],Oe=["for"],Pe={class:"relative top-5 left-3 peer-checked:visible invisible"},$e=t("div",{class:"absolute w-6 h-6 rounded-full bg-green-900 left-1 top-1 z-20"},null,-1),Le={class:"relative flex justify-end items-center w-[15rem] p-3 border-2 border-gray-400 rounded-lg focus-visible:border-white peer-checked:border-white duration-300"},Ke={class:"flex justify-center items-center w-10 h-10 bg-white rounded"},je={class:"flex flex-col text-white ml-3"},Ue={key:0},qe=t("div",{class:"absolute bottom-[3.75rem] right-[0.5rem] w-20 h-6 text-center bg-green-700/20 text-green-400 border-2 border-green-400 rounded-xl text-sm px-2 z-20"}," Current ",-1),Fe=t("div",{class:"absolute bottom-[3.75rem] right-[0.5rem] w-20 h-6 bg-gray-900 rounded-xl z-10"},null,-1),We=[qe,Fe],He={href:"#",class:"ring-2 ring-gray-400 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-white hover:ring-2 hover:ring-white text-gray-300 hover:text-white focus-visible:text-white duration-300"},Ge={class:"relative flex justify-end items-center w-[15rem] h-[4.5rem] p-3 rounded-lg"},Je=t("div",{class:"w-[10rem] text-center z-20"}," Add New Payment Method ",-1),Qe=t("span",{class:"text-center"},"We noticed that you chose to pay per month but you're planning to pay for a year or more on your subscription.",-1),Xe=t("span",null,"Do you still want to proceed?",-1),Ze={class:"text-center"},ot={__name:"ScheduledTransferOptions",emits:["emitCreateCarouselSubscription"],setup(Y,{expose:B,emit:m}){const e=J(),g=Q(),y=E(null);function p(){e.updateNewTransferOptions(!1),e.updateSelectSubscription(!0),oe(()=>{e.outputFirstTransfer.focus()})}const v=E(null);function u(r){e.updateNSBilling(r.target.textContent.trim()),r.target.textContent.trim()==="Monthly"&&(e.updateBillingMonthlyAriaChecked(!0),e.updateBillingYearlyAriaChecked(!1),e.updateDurationErrorYear(!1)),r.target.textContent.trim()==="Yearly"&&(e.updateBillingMonthlyAriaChecked(!1),e.updateBillingYearlyAriaChecked(!0),e.updateDurationErrorMonth(!1))}const b=R(()=>e.newSubBilling==="Monthly"),k=R(()=>e.newSubBilling==="Yearly");function S(r){e.updateDurationMonth(r);const a=e.monthArr.findIndex(n=>n===e.durationMonth);e.updateMonthConditional(a)}function C(r){e.updateReminderChoice(r)}function L(r){return`Payment method. ${r.paymentNetwork}. Last 4 digits of card number ${r.cardNumber.slice(15,r.cardNumber.length)}. Expires on ${e.monthArr[parseInt(r.expireDate.charAt(0))-1]}, ${2e3+parseInt(r.expireDate.slice(2))}`}function K(){e.editTransferModalIsVisible?e.updateEditTransferOptions(!1):e.updateNewTransferOptions(!1),e.updateSubTransactSummary(!0),e.updateWarningModalIsVisible(!1)}function j(){e.updateWarningModalIsVisible(!1),v.value.focus()}function U(){e.closeDeleteTransferModal(),e.deleteBtnRef.focus()}function q(){const r=e.editTransferOptions?e.tempSelectedSubscription.company:e.deleteTransferCompany;g.removeTransferBtnFromNotification(r);const a=e.currentSubscription.filter(I=>I.company!==r);e.updateCurrentSubscription(a),m("emitCreateCarouselSubscription"),e.updateEditTransferModalIsVisible(!1),e.updateAddNewTransferModalIsVisible(!1),N.info(`${r} was removed from your scheduled transfer`,{autoClose:3e3,position:N.POSITION.BOTTOM_RIGHT,theme:"dark",transition:N.TRANSITIONS.SLIDE});const n=g.lastNotificationId+Math.floor(ne(1,500));g.updateNotifications({id:n,type:"transfer",status:"deleted",company:r,message:`${r} was removed from your scheduled transfer`,showCancelBtn:!1,showRemoveBtn:!1}),g.updateLastNotificationId(n),e.closeDeleteTransferModal()}return B({monthlyBtnRef:v}),X(()=>{e.getBackBtnTransferOptionsRef(y.value),e.getMonthlyBtnRef(v.value)}),(r,a)=>(i(),l("div",null,[t("div",le,[o(e).editTransferOptions?f("",!0):(i(),l("button",{key:0,class:"flex items-center gap-x-2 pr-2 text-white hover:cursor-pointer absolute top-4 left-6",onClick:p,onKeydown:[h(_(p,["exact","stop","prevent"]),["enter"]),h(_(p,["exact","stop","prevent"]),["space"])],"aria-label":"go back to the list of subscriptions",ref_key:"backBtnRef",ref:y},[s(o(w),{icon:"material-symbols:arrow-back-ios-new-rounded",class:"h-5 w-5"}),ce],40,de)),t("div",ue,[t("img",{class:"object-scale-down h-12 w-24",src:o(Z)(o(e).tempSelectedSubscription.icon1),alt:"","aria-hidden":"true"},null,8,fe)]),t("h1",pe,[t("span",null,d(o(e).tempSelectedSubscription.company),1),t("span",he,"$"+d(o(e).outputPrice)+" per "+d(o(e).outputBillingText),1),o(e).editTransferModalIsVisible?(i(),l(V,{key:0},[t("span",null,"Start date: "+d(o(e).startMonthAndYear.month)+" "+d(o(e).startMonthAndYear.year),1),o(e).editTransferModalIsVisible?(i(),l("span",me,"End date: "+d(o(e).monthArr[o(e).durationMonthEditTransfer])+" "+d(o(e).durationYearNotVModel),1)):f("",!0)],64)):f("",!0)]),t("div",be,[t("div",ge,[t("div",ye,[ve,t("div",_e,[t("button",{class:x(["h-7 w-[4.5rem] outline-none rounded-lg focus-visible:ring focus-visible:ring-white/50 z-10",{"text-gray-700":o(k)}]),onClick:u,onKeydown:[h(_(u,["exact","stop","prevent"]),["enter"]),h(_(u,["exact","stop","prevent"]),["space"])],ref_key:"monthlyBtnRef",ref:v,"aria-checked":o(e).billingMonthlyAriaChecked,"aria-label":"Billing Cycle Monthly",role:"switch"}," Monthly ",42,xe),t("button",{class:x(["h-7 w-[4.5rem] outline-none rounded-lg focus-visible:ring focus-visible:ring-white/50 z-10",{"text-gray-700":o(b)}]),onClick:u,onKeydown:[h(_(u,["exact","stop","prevent"]),["enter"]),h(_(u,["exact","stop","prevent"]),["space"])],ref:"yearlyBtnRef","aria-checked":o(e).billingYearlyAriaChecked,"aria-label":"Billing Cycle Yearly",role:"switch"}," Yearly ",42,we),t("div",{class:x(["absolute h-7 w-[4.5rem] rounded-md bg-green-800 shadow shadow-black/60 duration-300 z-1 pointer-events-none",{"left-[0.25rem]":o(b),"left-[5.25rem]":o(k)}])},null,2)])]),t("div",ke,[Me,t("div",null,[t("div",Te,[o(e).newSubBilling==="Monthly"?(i(),D(P,{key:0,"data-prop":o(e).monthArr,"current-month":o(e).editTransferModalIsVisible?o(e).durationMonthEditTransfer:o(e).monthConditional,onEmitData:S,"aria-label-prop":"Transfer duration, month.","width-prop":"w-[8.5rem]"},null,8,["data-prop","current-month"])):f("",!0),M(t("input",{type:"number",class:"w-20 h-9 pl-2 rounded-lg text-gray-900 text-sm focus:outline-none border-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-green-400 shadow-md duration-300","onUpdate:modelValue":a[0]||(a[0]=n=>o(e).durationYear=n),"aria-label":"Transfer duration, year."},null,512),[[z,o(e).durationYear]])]),s(T,{name:"durationError"},{default:c(()=>[o(e).durationErrorYear?(i(),l("div",Be," Invalid Year ")):f("",!0)]),_:1}),s(T,{name:"durationError"},{default:c(()=>[o(e).durationErrorCurrentYear?(i(),l("div",Se," You can't choose the current year ")):f("",!0)]),_:1}),s(T,{name:"durationError"},{default:c(()=>[o(e).durationErrorMonth?(i(),l("div",Ce," Invalid Date ")):f("",!0)]),_:1})])]),t("div",Ie,[Ne,M(t("input",{id:"reminder",type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=n=>o(e).checkboxState=n),class:"rounded focus:outline-none text-green-600 border-gray-300 focus-visible:ring-green-600 checked:ring-green-600 empty:ring-green-600 peer duration-300"},null,512),[[ee,o(e).checkboxState]]),o(e).checkboxState?(i(),D(P,{key:0,"aria-label-prop":"reminder options","data-prop":o(e).reminderOptions,"reminder-index":o(e).reminderIndex,"width-prop":"w-[8rem]",onEmitData:C},null,8,["data-prop","reminder-index"])):f("",!0)]),t("div",null,[Ee,M(t("textarea",{name:"",id:"description",cols:"30",rows:"2",class:"mt-2 rounded-lg text-gray-900 text-sm focus:outline-none border-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-green-400 shadow-md resize-none duration-300","onUpdate:modelValue":a[2]||(a[2]=n=>o(e).descriptionVmodel=n)},null,512),[[z,o(e).descriptionVmodel]])])]),t("div",Ve,[De,t("div",Ye,[t("ul",Ae,[(i(!0),l(V,null,$(o(e).paymentMethodArr,n=>(i(),l("div",{key:n.id,class:"relative"},[M(t("input",{type:"radio",id:n.id,name:"paymentNetwork",class:"absolute opacity-0 peer",value:n,"onUpdate:modelValue":a[3]||(a[3]=I=>o(e).paymentNetworkVModel=I),"aria-label":L(n)},null,8,Re),[[te,o(e).paymentNetworkVModel]]),t("div",{id:n.id,hidden:""},null,8,ze),t("label",{for:n.id,class:"absolute w-[15rem] h-[5rem] z-10 hover:cursor-pointer"},null,8,Oe),t("div",Pe,[s(o(w),{icon:"material-symbols:check-circle-outline-rounded",class:"absolute w-8 h-8 text-white z-30"}),$e]),t("div",Le,[t("div",Ke,[s(o(w),{icon:n.paymentNetwork==="Visa"?"cib:cc-visa":"ri:mastercard-line",class:"h-8 w-8 text-gray-400"},null,8,["icon"])]),t("div",je,[t("span",null,"**** "+d(o(re)(n)),1),t("span",null,"Expires on "+d(n.expireDate),1)]),n.current?(i(),l("div",Ue,We)):f("",!0)])]))),128))]),t("a",He,[t("div",Ge,[s(o(w),{icon:"iconamoon:sign-plus-bold",class:"absolute left-3 w-12 h-12 z-20"}),Je])])])])])]),s(O,{"warning-modal-is-visible":o(e).warningModalIsVisible,onEmitYesBtn:K,onEmitNoBtn:j,"modal-height":"h-[21rem]","modal-width":"w-[21rem]","icon-color":"indigo"},{default:c(()=>[Qe,Xe]),_:1},8,["warning-modal-is-visible"]),s(O,{"warning-modal-is-visible":o(e).deleteTransferModalIsVisible,onEmitYesBtn:q,onEmitNoBtn:U,"modal-height":"h-[17rem]","modal-width":"w-[21rem]","icon-color":"red"},{default:c(()=>[t("span",Ze,"Do you want to remove "+d(o(e).deleteTransferCompany||o(e).tempSelectedSubscription.company)+" from your list of subscriptions?",1)]),_:1},8,["warning-modal-is-visible"])]))}};export{ot as default};

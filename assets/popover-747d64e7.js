import{l as X,m as N,r as w,p as H,c as E,q as R,s as n,v as z,x as T,y as J,z as ue,A as j,B as re,S as se,C as ie,H as M,D as G,E as Y,G as Z,J as ve,K,L as q,M as U,F as _,N as ee,O as A,P as D,Q as B,R as pe,U as Q,V as x,W as V}from"./index-09bce65c.js";function de(o,s,d){X.isServer||N(m=>{window.addEventListener(o,s,d),m(()=>window.removeEventListener(o,s,d))})}var I=(o=>(o[o.Forwards=0]="Forwards",o[o.Backwards=1]="Backwards",o))(I||{});function te(){let o=w(0);return de("keydown",s=>{s.key==="Tab"&&(o.value=s.shiftKey?1:0)}),o}function ce(o,s,d,m){X.isServer||N(l=>{o=o??window,o.addEventListener(s,d,m),l(()=>o.removeEventListener(s,d,m))})}var fe=(o=>(o[o.Open=0]="Open",o[o.Closed=1]="Closed",o))(fe||{});let le=Symbol("PopoverContext");function W(o){let s=Q(le,null);if(s===null){let d=new Error(`<${o} /> is missing a parent <${be.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,W),d}return s}let oe=Symbol("PopoverGroupContext");function ne(){return Q(oe,null)}let ae=Symbol("PopoverPanelContext");function Pe(){return Q(ae,null)}let be=H({name:"Popover",props:{as:{type:[Object,String],default:"div"}},setup(o,{slots:s,attrs:d,expose:m}){var l;let e=w(null);m({el:e,$el:e});let c=w(1),v=w(null),F=w(null),g=w(null),f=w(null),P=E(()=>R(e)),y=E(()=>{var t,r;if(!n(v)||!n(f))return!1;for(let L of document.querySelectorAll("body > *"))if(Number(L==null?void 0:L.contains(n(v)))^Number(L==null?void 0:L.contains(n(f))))return!0;let u=z(),b=u.indexOf(n(v)),S=(b+u.length-1)%u.length,k=(b+1)%u.length,$=u[S],C=u[k];return!((t=n(f))!=null&&t.contains($))&&!((r=n(f))!=null&&r.contains(C))}),p={popoverState:c,buttonId:w(null),panelId:w(null),panel:f,button:v,isPortalled:y,beforePanelSentinel:F,afterPanelSentinel:g,togglePopover(){c.value=T(c.value,{[0]:1,[1]:0})},closePopover(){c.value!==1&&(c.value=1)},close(t){p.closePopover();let r=(()=>t?t instanceof HTMLElement?t:t.value instanceof HTMLElement?n(t):n(p.button):n(p.button))();r==null||r.focus()}};J(le,p),ue(E(()=>T(c.value,{[0]:j.Open,[1]:j.Closed})));let O={buttonId:p.buttonId,panelId:p.panelId,close(){p.closePopover()}},h=ne(),i=h==null?void 0:h.registerPopover;function a(){var t,r,u,b;return(b=h==null?void 0:h.isFocusWithinPopoverGroup())!=null?b:((t=P.value)==null?void 0:t.activeElement)&&(((r=n(v))==null?void 0:r.contains(P.value.activeElement))||((u=n(f))==null?void 0:u.contains(P.value.activeElement)))}return N(()=>i==null?void 0:i(O)),ce((l=P.value)==null?void 0:l.defaultView,"focus",t=>{var r,u;c.value===0&&(a()||v&&f&&t.target!==window&&((r=n(p.beforePanelSentinel))!=null&&r.contains(t.target)||(u=n(p.afterPanelSentinel))!=null&&u.contains(t.target)||p.closePopover()))},!0),re([v,f],(t,r)=>{var u;p.closePopover(),se(r,ie.Loose)||(t.preventDefault(),(u=n(v))==null||u.focus())},E(()=>c.value===0)),()=>{let t={open:c.value===0,close:p.close};return M({theirProps:o,ourProps:{ref:e},slot:t,slots:s,attrs:d,name:"Popover"})}}}),ye=H({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${G()}`}},inheritAttrs:!1,setup(o,{attrs:s,slots:d,expose:m}){let l=W("PopoverButton"),e=E(()=>R(l.button));m({el:l.button,$el:l.button}),Y(()=>{l.buttonId.value=o.id}),Z(()=>{l.buttonId.value=null});let c=ne(),v=c==null?void 0:c.closeOthers,F=Pe(),g=E(()=>F===null?!1:F.value===l.panelId.value),f=w(null),P=`headlessui-focus-sentinel-${G()}`;g.value||N(()=>{l.button.value=f.value});let y=ve(E(()=>({as:o.as,type:s.type})),f);function p(a){var t,r,u,b,S;if(g.value){if(l.popoverState.value===1)return;switch(a.key){case x.Space:case x.Enter:a.preventDefault(),(r=(t=a.target).click)==null||r.call(t),l.closePopover(),(u=n(l.button))==null||u.focus();break}}else switch(a.key){case x.Space:case x.Enter:a.preventDefault(),a.stopPropagation(),l.popoverState.value===1&&(v==null||v(l.buttonId.value)),l.togglePopover();break;case x.Escape:if(l.popoverState.value!==0)return v==null?void 0:v(l.buttonId.value);if(!n(l.button)||(b=e.value)!=null&&b.activeElement&&!((S=n(l.button))!=null&&S.contains(e.value.activeElement)))return;a.preventDefault(),a.stopPropagation(),l.closePopover();break}}function O(a){g.value||a.key===x.Space&&a.preventDefault()}function h(a){var t,r;o.disabled||(g.value?(l.closePopover(),(t=n(l.button))==null||t.focus()):(a.preventDefault(),a.stopPropagation(),l.popoverState.value===1&&(v==null||v(l.buttonId.value)),l.togglePopover(),(r=n(l.button))==null||r.focus()))}function i(a){a.preventDefault(),a.stopPropagation()}return()=>{let a=l.popoverState.value===0,t={open:a},{id:r,...u}=o,b=g.value?{ref:f,type:y.value,onKeydown:p,onClick:h}:{ref:f,id:r,type:y.value,"aria-expanded":o.disabled?void 0:l.popoverState.value===0,"aria-controls":n(l.panel)?l.panelId.value:void 0,disabled:o.disabled?!0:void 0,onKeydown:p,onKeyup:O,onClick:h,onMousedown:i},S=te();function k(){let $=n(l.panel);if(!$)return;function C(){T(S.value,{[I.Forwards]:()=>D($,B.First),[I.Backwards]:()=>D($,B.Last)})===V.Error&&D(z().filter(L=>L.dataset.headlessuiFocusGuard!=="true"),T(S.value,{[I.Forwards]:B.Next,[I.Backwards]:B.Previous}),{relativeTo:n(l.button)})}C()}return K(_,[M({ourProps:b,theirProps:{...s,...u},slot:t,attrs:s,slots:d,name:"PopoverButton"}),a&&!g.value&&l.isPortalled.value&&K(q,{id:P,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:k})])}}});H({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(o,{attrs:s,slots:d}){let m=W("PopoverOverlay"),l=`headlessui-popover-overlay-${G()}`,e=ee(),c=E(()=>e!==null?(e.value&j.Open)===j.Open:m.popoverState.value===0);function v(){m.closePopover()}return()=>{let F={open:m.popoverState.value===0};return M({ourProps:{id:l,"aria-hidden":!0,onClick:v},theirProps:o,slot:F,attrs:s,slots:d,features:A.RenderStrategy|A.Static,visible:c.value,name:"PopoverOverlay"})}}});let me=H({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${G()}`}},inheritAttrs:!1,setup(o,{attrs:s,slots:d,expose:m}){let{focus:l}=o,e=W("PopoverPanel"),c=E(()=>R(e.panel)),v=`headlessui-focus-sentinel-before-${G()}`,F=`headlessui-focus-sentinel-after-${G()}`;m({el:e.panel,$el:e.panel}),Y(()=>{e.panelId.value=o.id}),Z(()=>{e.panelId.value=null}),J(ae,e.panelId),N(()=>{var i,a;if(!l||e.popoverState.value!==0||!e.panel)return;let t=(i=c.value)==null?void 0:i.activeElement;(a=n(e.panel))!=null&&a.contains(t)||D(n(e.panel),B.First)});let g=ee(),f=E(()=>g!==null?(g.value&j.Open)===j.Open:e.popoverState.value===0);function P(i){var a,t;switch(i.key){case x.Escape:if(e.popoverState.value!==0||!n(e.panel)||c.value&&!((a=n(e.panel))!=null&&a.contains(c.value.activeElement)))return;i.preventDefault(),i.stopPropagation(),e.closePopover(),(t=n(e.button))==null||t.focus();break}}function y(i){var a,t,r,u,b;let S=i.relatedTarget;S&&n(e.panel)&&((a=n(e.panel))!=null&&a.contains(S)||(e.closePopover(),((r=(t=n(e.beforePanelSentinel))==null?void 0:t.contains)!=null&&r.call(t,S)||(b=(u=n(e.afterPanelSentinel))==null?void 0:u.contains)!=null&&b.call(u,S))&&S.focus({preventScroll:!0})))}let p=te();function O(){let i=n(e.panel);if(!i)return;function a(){T(p.value,{[I.Forwards]:()=>{var t;D(i,B.First)===V.Error&&((t=n(e.afterPanelSentinel))==null||t.focus())},[I.Backwards]:()=>{var t;(t=n(e.button))==null||t.focus({preventScroll:!0})}})}a()}function h(){let i=n(e.panel);if(!i)return;function a(){T(p.value,{[I.Forwards]:()=>{let t=n(e.button),r=n(e.panel);if(!t)return;let u=z(),b=u.indexOf(t),S=u.slice(0,b+1),k=[...u.slice(b+1),...S];for(let $ of k.slice())if($.dataset.headlessuiFocusGuard==="true"||r!=null&&r.contains($)){let C=k.indexOf($);C!==-1&&k.splice(C,1)}D(k,B.First,{sorted:!1})},[I.Backwards]:()=>{var t;D(i,B.Previous)===V.Error&&((t=n(e.button))==null||t.focus())}})}a()}return()=>{let i={open:e.popoverState.value===0,close:e.close},{id:a,focus:t,...r}=o,u={ref:e.panel,id:a,onKeydown:P,onFocusout:l&&e.popoverState.value===0?y:void 0,tabIndex:-1};return M({ourProps:u,theirProps:{...s,...r},attrs:s,slot:i,slots:{...d,default:(...b)=>{var S;return[K(_,[f.value&&e.isPortalled.value&&K(q,{id:v,ref:e.beforePanelSentinel,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}),(S=d.default)==null?void 0:S.call(d,...b),f.value&&e.isPortalled.value&&K(q,{id:F,ref:e.afterPanelSentinel,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:h})])]}},features:A.RenderStrategy|A.Static,visible:f.value,name:"PopoverPanel"})}}});H({name:"PopoverGroup",props:{as:{type:[Object,String],default:"div"}},setup(o,{attrs:s,slots:d,expose:m}){let l=w(null),e=pe([]),c=E(()=>R(l));m({el:l,$el:l});function v(P){let y=e.value.indexOf(P);y!==-1&&e.value.splice(y,1)}function F(P){return e.value.push(P),()=>{v(P)}}function g(){var P;let y=c.value;if(!y)return!1;let p=y.activeElement;return(P=n(l))!=null&&P.contains(p)?!0:e.value.some(O=>{var h,i;return((h=y.getElementById(O.buttonId.value))==null?void 0:h.contains(p))||((i=y.getElementById(O.panelId.value))==null?void 0:i.contains(p))})}function f(P){for(let y of e.value)y.buttonId.value!==P&&y.close()}return J(oe,{registerPopover:F,unregisterPopover:v,isFocusWithinPopoverGroup:g,closeOthers:f}),()=>M({ourProps:{ref:l},theirProps:o,slot:{},attrs:s,slots:d,name:"PopoverGroup"})}});export{ye as B,me as H,be as P};

import{ab as Y,r as V,o as r,g as a,e as s,w as h,k as t,f as o,ac as j,t as l,I as _,T as M,ad as L,a4 as f,F as E,j as z,d as I,ae as O,n as v,af as U,b as q,c as D,E as W,a5 as y,h as u,Y as F,a2 as k,a3 as A,ag as H,ah as G,ai as J,aa as Q}from"./index-fc942e52.js";import{o as X}from"./outputLast4CardNum-d5332ab7.js";const Z={class:"relative"},ee={class:"block truncate text-black"},te={class:"absolute inset-y-0 right-0 flex items-center px-2 hover:bg-gray-200"},R={__name:"HeadlessUIListBox",props:{dataProp:{type:Array,required:!0},currentMonth:{type:Number,required:!1},reminderIndex:{type:Number,required:!1},ariaLabelProp:{type:String,required:!1},widthProp:{type:String,required:!1,default:"w-full"}},emits:["emitData"],setup(N,{emit:B}){const g=N,e=Y(g,"dataProp"),w=Y(g,"currentMonth");function m(p){B("emitData",c.value)}const c=V(e.value[w.value||g.reminderIndex||0]);return(p,x)=>(r(),a("div",{class:v(g.widthProp)},[s(o(U),{modelValue:c.value,"onUpdate:modelValue":x[0]||(x[0]=b=>c.value=b)},{default:h(()=>[t("div",Z,[s(o(j),{class:"relative w-full overflow-hidden cursor-default rounded-lg bg-white py-2 pl-3 pr-8 text-left shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-green-400 sm:text-sm duration-300","aria-label":g.ariaLabelProp},{default:h(()=>[t("span",ee,l(c.value),1),t("span",te,[s(o(_),{icon:"ic:round-keyboard-arrow-down",class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1},8,["aria-label"]),s(M,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[s(o(L),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-10",onKeydown:[f(m,["enter"]),f(m,["space"])],onClick:m},{default:h(()=>[(r(!0),a(E,null,z(o(e),(b,C)=>(r(),I(o(O),{key:C,value:b,as:"template"},{default:h(({active:S,selected:T})=>[t("li",{class:v([S?"bg-green-100 text-green-900":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-3"])},[t("span",{class:v([T?"font-medium":"font-normal","block truncate"])},l(b),3)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["onKeydown"])]),_:1})])]),_:1},8,["modelValue"])],2))}},oe={class:"flex flex-col justify-center items-center w-full relative"},ne=["onKeydown"],re=t("span",null,"Back",-1),ie={class:"flex justify-center items-center mt-4 w-32 h-15 rounded-md bg-gray-500"},se=["src"],ae={class:"flex flex-col items-center text-white","aria-live":"assertive"},le={class:"text-xl font-bold"},de={key:0},ce={class:"flex w-[90%]"},ue={class:"flex flex-col w-full mt-10 text-white gap-y-4"},he={class:"flex items-center gap-x-2"},pe=t("div",null,"Billing Cycle",-1),fe={class:"flex justify-center items-center gap-x-2 w-[10rem] h-9 bg-gray-500 shadow shadow-gray-500 rounded-md relative"},me=["onKeydown","aria-checked"],be=["onKeydown","aria-checked"],ge={class:"flex gap-x-2 items-center h-16"},ye=t("div",null,"Duration",-1),ve={class:"flex items-center gap-x-2 relative"},xe={key:0,class:"pt-1 text-sm text-red-500 font-bold absolute",role:"alert"},_e={key:0,class:"pt-1 text-sm text-red-500 font-bold absolute",role:"alert"},we={key:0,class:"pt-1 text-sm text-red-500 font-bold absolute",role:"alert"},ke={class:"flex items-center gap-x-2 h-8"},Me=t("label",{for:"reminder"},"Reminder",-1),Be=t("label",{for:"description",class:"flex items-center gap-x-1"},[t("div",null,"Description"),t("span",{class:"text-xs"},"(optional)")],-1),Ce={class:"mt-10"},Se=t("div",{class:"text-white mb-2"},"Payment Method",-1),Te={class:"flex flex-col gap-y-2"},Ve={class:"flex flex-col gap-y-2"},Ee=["id","value","aria-label"],Ie=["id"],Ne=["for"],Ye={class:"relative top-5 left-3 peer-checked:visible invisible"},De=t("div",{class:"absolute w-6 h-6 rounded-full bg-green-900 left-1 top-1 z-20"},null,-1),Ae={class:"relative flex justify-end items-center w-[15rem] p-3 border-2 border-gray-400 rounded-lg focus-visible:border-white peer-checked:border-white duration-300"},Re={class:"flex justify-center items-center w-10 h-10 bg-white rounded"},ze={class:"flex flex-col text-white ml-3"},Pe={key:0},Ke=t("div",{class:"absolute bottom-[3.75rem] right-[0.5rem] w-20 h-6 text-center bg-green-700/20 text-green-400 border-2 border-green-400 rounded-xl text-sm px-2 z-20"}," Current ",-1),$e=t("div",{class:"absolute bottom-[3.75rem] right-[0.5rem] w-20 h-6 bg-gray-900 rounded-xl z-10"},null,-1),je=[Ke,$e],Le={href:"#",class:"ring-2 ring-gray-400 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-white hover:ring-2 hover:ring-white text-gray-300 hover:text-white focus-visible:text-white duration-300"},Oe={class:"relative flex justify-end items-center w-[15rem] h-[4.5rem] p-3 rounded-lg"},Ue=t("div",{class:"w-[10rem] text-center z-20"}," Add New Payment Method ",-1),qe=t("span",{class:"text-center"},"We noticed that you chose to pay per month but you're planning to pay for a year or more on your subscription.",-1),We=t("span",null,"Do you still want to proceed?",-1),Ge={__name:"ScheduledTransferOptions",emits:["emitCreateCarouselSubscription"],setup(N,{expose:B,emit:g}){const e=q(),w=V(null);function m(){e.updateNewTransferOptions(!1),e.updateSelectSubscription(!0),Q(()=>{e.outputFirstTransfer.focus()})}const c=V(null);function p(i){e.updateNSBilling(i.target.textContent.trim()),i.target.textContent.trim()==="Monthly"&&(e.updateBillingMonthlyAriaChecked(!0),e.updateBillingYearlyAriaChecked(!1),e.updateDurationErrorYear(!1)),i.target.textContent.trim()==="Yearly"&&(e.updateBillingMonthlyAriaChecked(!1),e.updateBillingYearlyAriaChecked(!0),e.updateDurationErrorMonth(!1))}const x=D(()=>e.newSubBilling==="Monthly"),b=D(()=>e.newSubBilling==="Yearly");function C(i){e.updateDurationMonth(i);const d=e.monthArr.findIndex(n=>n===e.durationMonth);e.updateMonthConditional(d)}function S(i){e.updateReminderChoice(i)}function T(i){return`Payment method. ${i.paymentNetwork}. Last 4 digits of card number ${i.cardNumber.slice(15,i.cardNumber.length)}. Expires on ${e.monthArr[parseInt(i.expireDate.charAt(0))-1]}, ${2e3+parseInt(i.expireDate.slice(2))}`}function P(){e.editTransferModalIsVisible?e.updateEditTransferOptions(!1):e.updateNewTransferOptions(!1),e.updateSubTransactSummary(!0),e.updateWarningModalIsVisible(!1)}function K(){e.updateWarningModalIsVisible(!1),c.value.focus()}return B({monthlyBtnRef:c}),W(()=>{e.getBackBtnTransferOptionsRef(w.value),e.getMonthlyBtnRef(c.value)}),(i,d)=>(r(),a("div",null,[t("div",oe,[o(e).editTransferOptions?u("",!0):(r(),a("button",{key:0,class:"flex items-center gap-x-2 pr-2 text-white hover:cursor-pointer absolute top-4 left-6",onClick:m,onKeydown:[f(y(m,["exact","stop","prevent"]),["enter"]),f(y(m,["exact","stop","prevent"]),["space"])],"aria-label":"go back to the list of subscriptions",ref_key:"backBtnRef",ref:w},[s(o(_),{icon:"material-symbols:arrow-back-ios-new-rounded",class:"h-5 w-5"}),re],40,ne)),t("div",ie,[t("img",{class:"object-scale-down h-12 w-24",src:o(F)(o(e).tempSelectedSubscription.icon1),alt:"","aria-hidden":"true"},null,8,se)]),t("h1",ae,[t("span",null,l(o(e).tempSelectedSubscription.company),1),t("span",le,"$"+l(o(e).outputPrice)+" per "+l(o(e).outputBillingText),1),o(e).editTransferModalIsVisible?(r(),a(E,{key:0},[t("span",null,"Start date: "+l(o(e).startMonthAndYear.month)+" "+l(o(e).startMonthAndYear.year),1),o(e).editTransferModalIsVisible?(r(),a("span",de,"End date: "+l(o(e).monthArr[o(e).durationMonthEditTransfer])+" "+l(o(e).durationYearNotVModel),1)):u("",!0)],64)):u("",!0)]),t("div",ce,[t("div",ue,[t("div",he,[pe,t("div",fe,[t("button",{class:v(["h-7 w-[4.5rem] outline-none rounded-lg focus-visible:ring focus-visible:ring-white/50 z-10",{"text-gray-700":o(b)}]),onClick:p,onKeydown:[f(y(p,["exact","stop","prevent"]),["enter"]),f(y(p,["exact","stop","prevent"]),["space"])],ref_key:"monthlyBtnRef",ref:c,"aria-checked":o(e).billingMonthlyAriaChecked,"aria-label":"Billing Cycle Monthly",role:"switch"}," Monthly ",42,me),t("button",{class:v(["h-7 w-[4.5rem] outline-none rounded-lg focus-visible:ring focus-visible:ring-white/50 z-10",{"text-gray-700":o(x)}]),onClick:p,onKeydown:[f(y(p,["exact","stop","prevent"]),["enter"]),f(y(p,["exact","stop","prevent"]),["space"])],ref:"yearlyBtnRef","aria-checked":o(e).billingYearlyAriaChecked,"aria-label":"Billing Cycle Yearly",role:"switch"}," Yearly ",42,be),t("div",{class:v(["absolute h-7 w-[4.5rem] rounded-md bg-green-800 shadow shadow-black/60 duration-300 z-1 pointer-events-none",{"left-[0.25rem]":o(x),"left-[5.25rem]":o(b)}])},null,2)])]),t("div",ge,[ye,t("div",null,[t("div",ve,[o(e).newSubBilling==="Monthly"?(r(),I(R,{key:0,"data-prop":o(e).monthArr,"current-month":o(e).editTransferModalIsVisible?o(e).durationMonthEditTransfer:o(e).monthConditional,onEmitData:C,"aria-label-prop":"Transfer duration, month.","width-prop":"w-[8.5rem]"},null,8,["data-prop","current-month"])):u("",!0),k(t("input",{type:"number",class:"w-20 h-9 pl-2 rounded-lg text-gray-900 text-sm focus:outline-none border-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-green-400 shadow-md duration-300","onUpdate:modelValue":d[0]||(d[0]=n=>o(e).durationYear=n),"aria-label":"Transfer duration, year."},null,512),[[A,o(e).durationYear]])]),s(M,{name:"durationError"},{default:h(()=>[o(e).durationErrorYear?(r(),a("div",xe," Invalid Year ")):u("",!0)]),_:1}),s(M,{name:"durationError"},{default:h(()=>[o(e).durationErrorCurrentYear?(r(),a("div",_e," You can't choose the current year ")):u("",!0)]),_:1}),s(M,{name:"durationError"},{default:h(()=>[o(e).durationErrorMonth?(r(),a("div",we," Invalid Date ")):u("",!0)]),_:1})])]),t("div",ke,[Me,k(t("input",{id:"reminder",type:"checkbox","onUpdate:modelValue":d[1]||(d[1]=n=>o(e).checkboxState=n),class:"rounded focus:outline-none text-green-600 border-gray-300 focus-visible:ring-green-600 checked:ring-green-600 empty:ring-green-600 peer duration-300"},null,512),[[H,o(e).checkboxState]]),o(e).checkboxState?(r(),I(R,{key:0,"aria-label-prop":"reminder options","data-prop":o(e).reminderOptions,"reminder-index":o(e).reminderIndex,"width-prop":"w-[8rem]",onEmitData:S},null,8,["data-prop","reminder-index"])):u("",!0)]),t("div",null,[Be,k(t("textarea",{name:"",id:"description",cols:"30",rows:"2",class:"w-[18rem] h-[3.5rem] mt-2 rounded-lg text-gray-900 text-sm focus:outline-none border-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-green-400 shadow-md resize-none duration-300","onUpdate:modelValue":d[2]||(d[2]=n=>o(e).descriptionVmodel=n)},null,512),[[A,o(e).descriptionVmodel]])])]),t("div",Ce,[Se,t("div",Te,[t("ul",Ve,[(r(!0),a(E,null,z(o(e).paymentMethodArr,n=>(r(),a("div",{key:n.id,class:"relative"},[k(t("input",{type:"radio",id:n.id,name:"paymentNetwork",class:"absolute opacity-0 peer",value:n,"onUpdate:modelValue":d[3]||(d[3]=$=>o(e).paymentNetworkVModel=$),"aria-label":T(n)},null,8,Ee),[[G,o(e).paymentNetworkVModel]]),t("div",{id:n.id,hidden:""},null,8,Ie),t("label",{for:n.id,class:"absolute w-[15rem] h-[5rem] z-10 hover:cursor-pointer"},null,8,Ne),t("div",Ye,[s(o(_),{icon:"material-symbols:check-circle-outline-rounded",class:"absolute w-8 h-8 text-white z-30"}),De]),t("div",Ae,[t("div",Re,[s(o(_),{icon:n.paymentNetwork==="Visa"?"cib:cc-visa":"ri:mastercard-line",class:"h-8 w-8 text-gray-400"},null,8,["icon"])]),t("div",ze,[t("span",null,"**** "+l(o(X)(n)),1),t("span",null,"Expires on "+l(n.expireDate),1)]),n.current?(r(),a("div",Pe,je)):u("",!0)])]))),128))]),t("a",Le,[t("div",Oe,[s(o(_),{icon:"iconamoon:sign-plus-bold",class:"absolute left-3 w-12 h-12 z-20"}),Ue])])])])])]),s(J,{"warning-modal-is-visible":o(e).warningModalIsVisible,onEmitYesBtn:P,onEmitNoBtn:K,"modal-height":"h-[21rem]","modal-width":"w-[21rem]","icon-color":"indigo"},{default:h(()=>[qe,We]),_:1},8,["warning-modal-is-visible"])]))}};export{Ge as default};
